package com.controller;



import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;

import org.springframework.web.bind.annotation.DeleteMapping;

import org.springframework.web.bind.annotation.GetMapping;

import org.springframework.web.bind.annotation.PathVariable;

import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;

import org.springframework.web.bind.annotation.RequestMapping;

import org.springframework.web.bind.annotation.RestController;

import com.dao.PetRepository;

import com.pojo.Pet;




@RestController

@RequestMapping("/pets")



public class PetController {

 
 @Autowired
	

 private PetRepository petRep;



 @GetMapping("/getPet")

 public Iterable<Pet> getPet()

 {

 return petRep.findAll();

 }



 @PostMapping("/savePet")

 public Pet savePet(@RequestBody Pet pet)

 {

 System.out.println(pet);

 petRep.save(pet);

 return pet;

 }
 @PutMapping("/putPet/{petId}")

 public Pet updateUser(@RequestBody Pet pet,@PathVariable("petId") String petId)

 {



	pet.setPetId(petId);

 System.out.println(pet);



 petRep.save(pet);

 return pet;

 }

 @DeleteMapping("/deletePet/{petId}")

 public boolean deletePet(@PathVariable("petId") String petId)

 {

 System.out.println(petId);

 petRep.deleteById(petId);

 return true;

 }



 @GetMapping("/findOneInAll/{petId}")

 public Pet findOneInAll(@PathVariable("petId") String petId)

 {

 Optional<Pet> pet= petRep.findById(petId);

 return pet.get();

 }
 public Integer getPetPrice1(String petId) {

	 Optional<Pet>pet=petRep.findById(petId);

	 Pet pt=pet.get();

	 return pt.getPetPrice();

	 }



	 @GetMapping("/petId/{petId}") // we get college name

	 public Integer getPetPrice(@PathVariable(value = "petId") String petId) {

	 System.out.println("Iam in college application");

	 return getPetPrice1(petId);



	 }
 

}